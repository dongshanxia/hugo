<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>shell on </title>
    <link>http://127.0.0.1:1313/hugo/categories/shell/</link>
    <description>Recent content in shell on </description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Wed, 05 Jan 2022 14:44:43 +0800</lastBuildDate><atom:link href="http://127.0.0.1:1313/hugo/categories/shell/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Tomcat自检程序</title>
      <link>http://127.0.0.1:1313/hugo/linux/shell/tomcat%E8%87%AA%E6%A3%80%E7%A8%8B%E5%BA%8F/</link>
      <pubDate>Wed, 05 Jan 2022 14:44:43 +0800</pubDate>
      
      <guid>http://127.0.0.1:1313/hugo/linux/shell/tomcat%E8%87%AA%E6%A3%80%E7%A8%8B%E5%BA%8F/</guid>
      <description>tomcat自检 #!/bin/bash PROC_NAME=Bootstrap PROC_PATH=/home/test/tomcat/apache-tomcat-7.0.70/bin PROC_START_SH_PATH=/home/test/tomcat/apache-tomcat-7.0.70/bin PROC_START_SH_NAME=startup.sh LOG_FILE=/home/cjpt/test/logs/process_check.log FAIL_LOG_FILE=/home/test/tomcat/logs/process_check_fail.log WEB_URL=&amp;#34;URL:&amp;#34; PROC_ROOT_PATH=/home/test/tomcat/apache-tomcat-7.0.70/ JAVA_HOME_MY=/home/test/jdk/jdk1.8 JRE_HOME_MY=/home/test/jdk/jdk1.8/jre DATE=/bin/date function check(){ HTTP_CODE=$(curl -G -m 10 -o /dev/null -s -w %{http_code} $WEB_URL) echo &amp;#34;http response code:$HTTP_CODE&amp;#34; &amp;gt;&amp;gt;$LOG_FILE if [ $HTTP_CODE -eq 200 ] ; then $DATE +&amp;#34;%F %T %a&amp;#34; #&amp;gt;&amp;gt;$LOG_FILE echo &amp;#34;http response code:$HTTP_CODE&amp;#34; #&amp;gt;&amp;gt;$LOG_FILE else $DATE +&amp;#34;%F %T %a&amp;#34; #&amp;gt;&amp;gt;$FAIL_LOG_FILE echo &amp;#34;http response code:$HTTP_CODE&amp;#34; #&amp;gt;&amp;gt;$FAIL_LOG_FILE return 1 fi } n=5 for ((i=n;i&amp;gt;=1;i--)) do check result=$? echo $result if [ $result -eq 0 ] ; then exit else echo &amp;#34;can&amp;#39;t connect to server.</description>
    </item>
    
    <item>
      <title>Jar简易自检程序</title>
      <link>http://127.0.0.1:1313/hugo/linux/shell/jar%E7%AE%80%E6%98%93%E8%87%AA%E6%A3%80%E7%A8%8B%E5%BA%8F/</link>
      <pubDate>Wed, 05 Jan 2022 14:44:01 +0800</pubDate>
      
      <guid>http://127.0.0.1:1313/hugo/linux/shell/jar%E7%AE%80%E6%98%93%E8%87%AA%E6%A3%80%E7%A8%8B%E5%BA%8F/</guid>
      <description>jar 简易自检程序  脚本  #!/bin/sh #line=&amp;#39;cat ./pid/faceKuangshi-pid&amp;#39; echo &amp;#39;自检程序开始&amp;#39; temp_pid=0; for line in `cat ./check_pid.txt` do pid_array[$temp_pid]=$(awk &amp;#39;{print}&amp;#39; $line) let temp_pid++ done echo &amp;#39;进程id:&amp;#39; echo ${pid_array[*]} temp_sh=0; for line_sh in `cat ./check_start.txt` do #cat $line_sh sh_array[$temp_sh]=$line_sh let temp_sh++ done echo &amp;#39;进程命令:&amp;#39; echo ${sh_array[*]} pid_length=${#pid_array[@]} sh_length=${#sh_array[@]} if [ $pid_length == $sh_length ];then echo &amp;#34;自检查程序开始&amp;#34; for ((i=0;i&amp;lt;$pid_length;i++)) do echo ${pid_array[$i]} #为方便检查，加了打印 ps -p ${pid_array[$i]} if [ $? -eq 0 ]; then echo &amp;#34;app 存在&amp;#34; else echo &amp;#34;app 不存在&amp;#34; ${sh_array[$i]} fi	done	else echo &amp;#39;左右边的两个程序 不一样。&amp;#39; fi #ps -p 22 #if [ $?</description>
    </item>
    
  </channel>
</rss>
